{"ast":null,"code":"var _jsxFileName = \"D:\\\\BHARGAVA\\\\Projects\\\\ttgen\\\\frontend\\\\src\\\\components\\\\Signup.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignUp = () => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [mobile, setMobile] = useState('');\n  const [showPassword, setShowPassword] = useState('');\n  const [mobileError, setMobileError] = useState('');\n  const [signupError, setSignupError] = useState('');\n  const [redirectToLogin, setRedirectToLogin] = useState(false);\n  const handleSignUp = async () => {\n    try {\n      if (!username || !password || !mobile) {\n        alert('All fields are mandatory');\n        return;\n      }\n      const apiUrl = 'http://localhost:5000/api/signup';\n      const response = await axios.post(apiUrl, {\n        username,\n        password,\n        mobile\n      });\n\n      // Check if the response has a message\n      if (response.data && response.data.message) {\n        alert(response.data.message);\n      }\n      console.log('User registered successfully');\n      setSignupError('');\n      // Set the state to trigger redirection\n      setRedirectToLogin(true);\n    } catch (error) {\n      console.error('Error registering user:', error);\n      if (error.response) {\n        if (error.response.status === 400) {\n          setSignupError('Username is already in use');\n          setMobileError('Mobile number is already in use');\n        } else if (error.response.status === 409) {\n          setMobileError('Mobile number is already in use');\n        } else if (error.response.status === 422) {\n          setSignupError('Username is already in use');\n        }\n      } else {\n        setSignupError('Error registering user. Please try again later.');\n      }\n    }\n    const handleUserChange = e => {\n      setSignupError('');\n      setUsername(e.target.value);\n    };\n    const handleMobileChange = e => {\n      var inputValue = e.target.value;\n      var last = inputValue.at(-1);\n      inputValue = e.target.value.replace(/[^0-9]/g, '').slice(0, 10);\n      if (last >= 0 && last <= 9) {\n        setMobileError('');\n        setSignupError('');\n      }\n      setMobile(inputValue);\n    };\n    const handleMobileBlur = () => {\n      if (mobile.length !== 10) {\n        setMobileError('Mobile number must be 10 digits long');\n      } else {\n        setMobileError('');\n      }\n    };\n    if (redirectToLogin) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 12\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"SignUpContainer p-4 border border-gray-300 rounded-md shadow-md max-w-md mx-auto mt-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl text-center mb-4\",\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"block text-sm mb-1\",\n      children: \"Username:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: username,\n      onChange: handleUserChange,\n      className: \"w-full py-2 px-3 border rounded-md mb-3\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"block text-sm mb-1\",\n      children: \"Password:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: showPassword ? 'text' : 'password',\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        className: \"w-full py-2 px-3 border rounded-md mb-3\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: showPassword ? faEye : faEyeSlash,\n        className: \"absolute top-1/2 right-3 transform -translate-y-1/2 text-blue-500 cursor-pointer\",\n        onClick: () => setShowPassword(!showPassword)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"block text-sm mb-1\",\n      children: \"Mobile:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: mobile,\n      onChange: handleMobileChange,\n      onBlur: handleMobileBlur,\n      className: \"w-full py-2 px-3 border rounded-md mb-2\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), mobileError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-sm mt-1\",\n      children: mobileError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 23\n    }, this), signupError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-sm mt-1\",\n      children: signupError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSignUp,\n      className: \"w-full py-2 bg-blue-500 text-white rounded-md text-lg cursor-pointer hover:bg-blue-600\",\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(SignUp, \"+dFpwYulY8LOYsl2JjfyYPrhulY=\");\n_c = SignUp;\nexport default SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useState","axios","FontAwesomeIcon","faEye","faEyeSlash","Redirect","jsxDEV","_jsxDEV","SignUp","_s","username","setUsername","password","setPassword","mobile","setMobile","showPassword","setShowPassword","mobileError","setMobileError","signupError","setSignupError","redirectToLogin","setRedirectToLogin","handleSignUp","alert","apiUrl","response","post","data","message","console","log","error","status","handleUserChange","e","target","value","handleMobileChange","inputValue","last","at","replace","slice","handleMobileBlur","length","to","fileName","_jsxFileName","lineNumber","columnNumber","className","children","type","onChange","required","icon","onClick","onBlur","_c","$RefreshReg$"],"sources":["D:/BHARGAVA/Projects/ttgen/frontend/src/components/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\n\r\nconst SignUp = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [mobile, setMobile] = useState('');\r\n  const [showPassword, setShowPassword] = useState('');\r\n  const [mobileError, setMobileError] = useState('');\r\n  const [signupError, setSignupError] = useState('');\r\n  const [redirectToLogin, setRedirectToLogin] = useState(false);\r\n  \r\n\r\n  const handleSignUp = async () => {\r\n    try {\r\n      if (!username || !password || !mobile) {\r\n        alert('All fields are mandatory');\r\n        return;\r\n      }\r\n\r\n      const apiUrl = 'http://localhost:5000/api/signup';\r\n      const response = await axios.post(apiUrl, { username, password, mobile });\r\n\r\n      // Check if the response has a message\r\n      if (response.data && response.data.message) {\r\n        alert(response.data.message);\r\n      }\r\n      console.log('User registered successfully');\r\n      setSignupError('');\r\n      // Set the state to trigger redirection\r\n      setRedirectToLogin(true);\r\n\r\n      \r\n\r\n    } catch (error) {\r\n      console.error('Error registering user:', error);\r\n\r\n      if (error.response) {\r\n        if (error.response.status === 400) {\r\n          setSignupError('Username is already in use');\r\n          setMobileError('Mobile number is already in use');\r\n        } else if (error.response.status === 409) {\r\n          setMobileError('Mobile number is already in use');\r\n        } else if (error.response.status === 422) {\r\n          setSignupError('Username is already in use');\r\n        }\r\n      } else {\r\n        setSignupError('Error registering user. Please try again later.');\r\n      }\r\n    }\r\n    \r\n\r\n  const handleUserChange = (e) => {\r\n    setSignupError('');\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  const handleMobileChange = (e) => {\r\n    var inputValue = e.target.value;\r\n    var last = inputValue.at(-1);\r\n    inputValue = e.target.value.replace(/[^0-9]/g, '').slice(0, 10);\r\n    if (last >= 0 && last <= 9) {\r\n      setMobileError('');\r\n      setSignupError('');\r\n    }\r\n\r\n    setMobile(inputValue);\r\n  };\r\n\r\n  const handleMobileBlur = () => {\r\n    if (mobile.length !== 10) {\r\n      setMobileError('Mobile number must be 10 digits long');\r\n    } else {\r\n      setMobileError('');\r\n    }\r\n  };\r\n  if (redirectToLogin) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n};\r\n\r\n  return (\r\n    <div className=\"SignUpContainer p-4 border border-gray-300 rounded-md shadow-md max-w-md mx-auto mt-10\">\r\n      <h2 className=\"text-2xl text-center mb-4\">Sign Up</h2>\r\n      <label className=\"block text-sm mb-1\">Username:</label>\r\n      <input\r\n        type=\"text\"\r\n        value={username}\r\n        onChange={handleUserChange}\r\n        className=\"w-full py-2 px-3 border rounded-md mb-3\"\r\n        required\r\n      />\r\n      <label className=\"block text-sm mb-1\">Password:</label>\r\n      <div className=\"relative\">\r\n        <input\r\n          type={showPassword ? 'text' : 'password'}\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          className=\"w-full py-2 px-3 border rounded-md mb-3\"\r\n          required\r\n        />\r\n        <FontAwesomeIcon\r\n          icon={showPassword ? faEye : faEyeSlash}\r\n          className=\"absolute top-1/2 right-3 transform -translate-y-1/2 text-blue-500 cursor-pointer\"\r\n          onClick={() => setShowPassword(!showPassword)}\r\n        />\r\n      </div>\r\n      <label className=\"block text-sm mb-1\">Mobile:</label>\r\n      <input\r\n        type=\"text\"\r\n        value={mobile}\r\n        onChange={handleMobileChange}\r\n        onBlur={handleMobileBlur}\r\n        className=\"w-full py-2 px-3 border rounded-md mb-2\"\r\n        required\r\n      />\r\n      {mobileError && <p className=\"text-red-500 text-sm mt-1\">{mobileError}</p>}\r\n      {signupError && <p className=\"text-red-500 text-sm mt-1\">{signupError}</p>}\r\n      <button\r\n        onClick={handleSignUp}\r\n        className=\"w-full py-2 bg-blue-500 text-white rounded-md text-lg cursor-pointer hover:bg-blue-600\"\r\n      >\r\n        Sign Up\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}